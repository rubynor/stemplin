<%= content_tag(:div, id: dom_id(time_reg), class: "shadow-sm rounded-md p-4 flex flex-col lg:flex-row lg:items-center lg:justify-between gap-y-4") do %>
  <div class="flex flex-row lg:items-center gap-x-4">
    <div class="bg-gray-50 border border-gray-100 rounded flex justify-center items-center w-8 h-8 relative">
      <i class="uc-icon text-base text-gray-400">&#xe8bb;</i>
      <% if time_reg.active %>
        <div class="absolute -bottom-2 -right-2 bg-yellow-500 rounded-full w-4 h-4 flex justify-center items-center">
          <i class="uc-icon text-xs text-white">&#xead0;</i>
        </div>
      <% end %>
    </div>
    <div class="flex flex-row items-start w-full gap-x-2 justify-between">
      <div class="flex flex-col">
        <div class="flex flex-col lg:flex-row lg:items-center text-sm lg:text-base text-gray-600 gap-x-2">
          <span><%= time_reg.task.name %></span>
          <span class="hidden lg:block">-</span>
          <span class="font-semibold"><%= time_reg.project.name %></span>
        </div>
        <span class="text-xs text-gray-500"><%= time_reg.project.client.name %></span>
      </div>
      <%= render PhlexUI::Badge.new(variant: :gray, class: "!rounded-full flex gap-x-1") do %>
        <i class="uc-icon text-sm text-gray-600">&#xe8bb;</i>
        <%= convert_time_int(time_reg.minutes) %>
      <% end %>
    </div>
  </div>
  <div class="flex gap-x-4 justify-end">
    <%= render ButtonComponent.new(path: time_reg_toggle_active_path(time_reg), method: :patch, class: "gap-x-2", variant: time_reg.active ? :secondary : :outline) do %>
      <% if time_reg.active %>
        <i class="uc-icon text-base">&#xeb59;</i>
      <% else %>
        <i class="uc-icon text-base">&#xead1;</i>
      <% end %>
      <span class="hidden lg:block"><%= time_reg.active ? "Stop" : "Start" %></span>
    <% end %>
    <%= render ButtonComponent.new(path: edit_modal_time_reg_path(time_reg, date: @chosen_date), method: :put, class: "gap-x-2", variant: :outline) do %>
      <i class="uc-icon text-base">&#xe972;</i>
      <span class="hidden lg:block">Edit</span>
    <% end %>
    <%= render ButtonComponent.new(path: time_reg_path(time_reg), method: :delete, class: "gap-x-2", variant: :destructive, data: { turbo_method: :delete, turbo_confirm: "Are you sure?" }) do %>
      <i class="uc-icon text-base">&#xeb97;</i>
      <span class="hidden lg:block">Delete</span>
    <% end %>
  </div>
<% end %>
